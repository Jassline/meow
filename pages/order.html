<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <title>ã€å“¡å·¥å¾Œå°ã€‘è¨‚å–®ç®¡ç†ç³»çµ± | MEOW SELECT</title>
    <link rel="stylesheet" href="../css/style.css">
    <style>
        .admin-table { width: 100%; border-collapse: collapse; margin-top: 20px; background: white; }
        .admin-table th, .admin-table td { border: 1px solid #eee; padding: 15px; text-align: left; }
        .admin-table th { background: #333; color: white; }
        .status-badge { background: #ff9f43; color: white; padding: 3px 8px; border-radius: 3px; font-size: 12px; }
    </style>
</head>
<body style="padding-top: 80px; background: #f4f4f4;">
    <nav style="background: #333;">
        <a href="../index.html" class="logo" style="color: #fff;">MEOW ç®¡ç†å¾Œå°</a>
        <div class="nav-links"><a href="../index.html" style="color:#fff;">å›é¦–é </a></div>
    </nav>

    <div class="container" style="max-width: 1200px;">
        <h2 style="margin-bottom: 20px;">ğŸ“¦ å…¨ç«™è¨‚å–®ç®¡ç† (å“¡å·¥å°ˆç”¨)</h2>
        <p style="color: #666; margin-bottom: 20px;">ç›®å‰æ¬Šé™ï¼šæœ€é«˜ç®¡ç†å“¡ | åƒ…ä¾›å…§éƒ¨æŸ¥çœ‹è¨‚å–®æ˜ç´°</p>
        
        <table class="admin-table">
            <thead>
                <tr>
                    <th>è¨‚å–®ç·¨è™Ÿ</th>
                    <th>ä¸‹å–®æ™‚é–“</th>
                    <th>å®¢æˆ¶è³‡è¨Š</th>
                    <th>è¨‚è³¼å•†å“</th>
                    <th>ç¸½é‡‘é¡</th>
                    <th>ç‹€æ…‹</th>
                </tr>
            </thead>
            <tbody id="admin-order-list">
                </tbody>
        </table>
    </div>

    <script>
        function loadAdminOrders() {
            const tbody = document.getElementById('admin-order-list');
            let history = JSON.parse(localStorage.getItem('orderHistory')) || [];

            if (history.length === 0) {
                tbody.innerHTML = '<tr><td colspan="6" style="text-align:center; padding:50px;">ç›®å‰å°šç„¡ä»»ä½•è¨‚å–®ç´€éŒ„</td></tr>';
                return;
            }

            // å€’åºé¡¯ç¤ºï¼Œæœ€æ–°çš„è¨‚å–®åœ¨ä¸Šé¢
            history.reverse().forEach(order => {
                let itemsHtml = order.items.map(item => `${item.name} x ${item.qty}`).join('<br>');
                tbody.innerHTML += `
                    <tr>
                        <td style="font-family: monospace; font-weight: bold;">${order.orderId}</td>
                        <td>${order.orderDate}</td>
                        <td>
                            <strong>${order.customer.name}</strong><br>
                            <span style="font-size: 12px; color: #888;">${order.customer.phone}</span><br>
                            <span style="font-size: 12px; color: #888;">${order.customer.address}</span>
                        </td>
                        <td style="font-size: 13px;">${itemsHtml}</td>
                        <td style="color: #ee5253; font-weight: bold;">$${order.totalAmount}</td>
                        <td><span class="status-badge">å¾…è™•ç†</span></td>
                    </tr>
                `;
            });
        }
        window.onload = loadAdminOrders;
    </script>
    <script src="../js/chat.js"></script>
</body>
</html>